# Передача входных параметров компонентам маршрута %{#passing-props-to-route-components}%

<VueSchoolLink
  href="https://vueschool.io/lessons/route-props"
  title="Узнайте, как передавать входные параметры компонентам маршрута"
/>

Использование `$route` в компоненте создает тесную связь с маршрутом, что ограничивает гибкость компонента, так как его можно использовать только на определенных URL-адресах. Хотя это не обязательно плохо, мы можем изменить это поведение с помощью опции `props`:

Мы можем заменить

```js
const User = {
  template: '<div>User {{ $route.params.id }}</div>',
}
const routes = [{ path: '/user/:id', component: User }]
```

на

```js
const User = {
  // обязательно добавьте входной параметр, названный точно так же, как параметр маршрута
  props: ['id'],
  template: '<div>User {{ id }}</div>'
}
const routes = [{ path: '/user/:id', component: User, props: true }]
```

Это позволяет использовать компонент в любом месте, что облегчает его повторное использование и тестирование.

## Логический режим %{#boolean-mode}%

Если `props` имеет значение `true`, то в качестве входных параметров компонента будут установлены `route.params`.

## Именованные представления %{#named-views}%

Для маршрутов с именованными представлениями необходимо определить опцию `props` для каждого именованного представления:

```js
const routes = [
  {
    path: '/user/:id',
    components: { default: User, sidebar: Sidebar },
    props: { default: true, sidebar: false }
  }
]
```

## Объектный режим %{#object-mode}%

Если `props` является объектом, то именно его свойства будут установлены как входные параметры компонента. Полезно для случаев, когда входной параметр статичен.

```js
const routes = [
  {
    path: '/promotion/from-newsletter',
    component: Promotion,
    props: { newsletterPopup: false }
  }
]
```

## Функциональный режим %{#function-mode}%

Можно создать функцию, возвращающую входные параметры. Это позволяет приводить параметры к другим типам, комбинировать статические значения со значениями, основанными на маршрутах, и т.д.

```js
const routes = [
  {
    path: '/search',
    component: SearchUser,
    props: route => ({ query: route.query.q })
  }
]
```

URL `/search?q=vue` будет передавать `{query: 'vue'}` в качестве входных параметров компоненту `SearchUser`.

Постарайтесь, чтобы функция `props` не имела состояния (была stateless), поскольку она выполняется только при изменении маршрута. Если для определения входных параметров требуется состояние, используйте компонент-обертку, тогда Vue сможет реагировать на изменения состояния.
